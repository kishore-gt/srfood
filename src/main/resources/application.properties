spring.application.name=TummyGo

# MySQL datasource configuration
spring.datasource.url=jdbc:mysql://localhost:3306/srfood?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA & Hibernate settings
# Set to 'none' since we're using Flyway for schema management
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Flyway configuration
# Set to false if MySQL is not running - migrations will run when database is available
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
# Ignore missing migrations for existing tables (created before Flyway)
spring.flyway.ignore-missing-migrations=true
# Continue on error - allows app to start even if Flyway fails (for development)
spring.flyway.continue-on-error=false
# Repair checksums if migration files have been modified
spring.flyway.repair-on-migrate=true
# Temporarily disable validation to allow repair to work
spring.flyway.validate-on-migrate=false
# Clean failed migrations (allows retry of failed migrations)
spring.flyway.clean-disabled=false

# Actuator endpoints
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=when-authorized

# Swagger/OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Thymeleaf configuration
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.cache=false
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.servlet.content-type=text/html

# Server configuration
# Note: server.port is ignored when deployed to external Tomcat
# The context path will be determined by the WAR filename or Tomcat configuration
server.port=8080
# For external Tomcat, set context path in Tomcat's server.xml or context.xml
# Or rename WAR file to ROOT.war to deploy at root context

# Email Configuration (Gmail example - update with your email credentials)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=kishoremovva11@gmail.com
spring.mail.password=wsms lpwn jnla oiva
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000
spring.mail.properties.mail.debug=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# SMS Configuration - DISABLED (SMS feature removed, only email is used)
# Options: textlocal, msg91, fast2sms
# sms.provider=msg91

# TextLocal Configuration (https://www.textlocal.in/) - Alternative option
# sms.api.key=your-textlocal-api-key
# sms.sender.name=TUMMYGO

# MSG91 Configuration (https://msg91.com/) - Recommended alternative
# Sign up at https://msg91.com/ and get your Auth Key from dashboard
# sms.msg91.authkey=477665Asa578yxY69157994P1

# Fast2SMS Configuration (https://www.fast2sms.com/) - Requires DLT registration
# sms.fast2sms.authorization=erVyjI48xWZMzdg7pSQKFsBP01vEanAY3RX5iGUhJNCbOmHTqt9N80yigHejKEJVp1oFLz5CtdYlZnbG

# Map Configuration
# Using OpenStreetMap (Leaflet.js) - Free, no API key required!
# No configuration needed - maps work out of the box

# Session Configuration - Disable session persistence to avoid deserialization errors
server.servlet.session.persistent=false
server.servlet.session.timeout=30m